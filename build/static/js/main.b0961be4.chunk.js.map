{"version":3,"sources":["apiCalls.js","context/AuthReducer.js","context/AuthContext.js","pages/login/Login.jsx","pages/register/Register.jsx","components/chatOnline/ChatOnline.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/topbar/Topbar.jsx","pages/messenger/Messenger.jsx","pages/dashboard/dashboard.jsx","App.js","index.js"],"names":["loginCall","userCredential","dispatch","a","type","axios","post","process","res","payload","data","AuthReducer","state","action","user","isFetching","error","followings","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","useEffect","setItem","stringify","Provider","value","Login","email","useRef","password","useContext","className","onSubmit","e","preventDefault","current","placeholder","required","ref","minLength","disabled","CircularProgress","color","size","onClick","window","location","href","Register","username","passwordAgain","history","useHistory","handleClick","setCustomValidity","push","console","log","ChatOnline","userId","useState","setUser","PF","getUser","src","profilePicture","alt","Conversation","conversation","currentUser","friendId","members","find","m","_id","Message","message","sender","own","text","format","createdAt","Topbar","to","style","textDecoration","Search","Person","Chat","Notifications","dotenv","config","Messenger","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","onlineUsers","setOnlineUsers","socket","scrollRef","io","on","senderId","Date","now","includes","prev","emit","users","onUsers","usrs","usr","getConversations","get","getMessages","handleSubmit","conversationId","receiverId","member","scrollIntoView","behavior","map","c","onChange","target","Dashboard","setData","getData","response","renderData","item","id","App","exact","path","isAdmin","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0961be4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const loginCall = async (userCredential, dispatch) => {\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await axios.post(process.env.REACT_APP_URL+\"/auth/login\", userCredential);\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (err) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\n  }\n};\n\n","const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        isFetching: false,\n        error: true,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: [...state.user.followings, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: state.user.followings.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useEffect, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user:JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n  \n  useEffect(()=>{\n    localStorage.setItem(\"user\", JSON.stringify(state.user))\n  },[state.user])\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { useContext, useRef } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const { isFetching, dispatch } = useContext(AuthContext);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    loginCall(\n      { email: email.current.value, password: password.current.value },\n      dispatch\n    );\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Social App</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on Social App.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            <button className=\"loginRegisterButton\" onClick={(e)=>{\n                window.location.href = 'http://localhost:3000/register'\n              }}>\n                Create a New Account\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useRef } from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(\"/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Social App</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on social app.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Username\"\n              required\n              ref={username}\n              className=\"loginInput\"\n            />\n            <input\n              placeholder=\"Email\"\n              required\n              ref={email}\n              className=\"loginInput\"\n              type=\"email\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              className=\"loginInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              className=\"loginInput\"\n              type=\"password\"\n            />\n            <button className=\"loginButton\" type=\"submit\">\n              Sign Up\n            </button>\n            <button className=\"loginRegisterButton\" onClick={(e)=>{\n              window.location.href = 'http://localhost:3000/login'\n            }}>Log into Account</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import './chatOnline.css';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function ChatOnline({userId}) {\r\n    const [user,setUser]=useState();\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    useEffect(()=>{\r\n     const getUser=async()=>{\r\n         try {\r\n           const res=await axios('users?userId='+userId)  \r\n           console.log('user:',res.data)\r\n           setUser(res.data)\r\n         } catch (error) {\r\n          console.log(error)\r\n         }\r\n     }\r\n     getUser();\r\n    },[userId])\r\n    return (\r\n        <div className=\"chatOnline\">\r\n            <div className=\"chatOnlineFriend\">\r\n                <div className=\"chatOnlineImgContainer\">\r\n                    <img className='chatOnlineImg' src={user?.profilePicture? PF + user.profilePicture : PF+\"person/noAvatar.png\"} alt=\"\" />\r\n                    <div className=\"chatOnlineBadge\">\r\n\r\n                    </div>\r\n                </div>\r\n                <span className=\"chatOnlineName\">{user?.username}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\";\r\n// import dotenv from \"dotenv\";\r\n\r\n// dotenv.config();\r\nexport default function Conversation({ conversation, currentUser }) {\r\n    \r\n    const [user,setUser] = useState();\r\n    // const [picture,setPicture] = useState()\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    useEffect(()=>{\r\n        const friendId = conversation.members.find(m=>m !== currentUser._id);\r\n        const getUser = async ()=>{\r\n            try {\r\n                const res = await axios('users?userId='+friendId)\r\n                setUser(res.data)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        \r\n        }\r\n        getUser();\r\n    }, [currentUser,conversation,PF])\r\n    return (\r\n        <div className=\"conversation\">\r\n            <img className=\"conversationImg\" \r\n            src={user?.profilePicture? PF + user.profilePicture : PF+\"person/noAvatar.png\"} alt=\"\" />\r\n            <span className=\"conversationName\">{user?.username}</span>\r\n        </div>\r\n    )\r\n}","import \"./message.css\";\r\nimport { format } from \"timeago.js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\n\r\nexport default function Message({message,sender,own}){\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [user,setUser]=useState()\r\n    useEffect(()=>{\r\n        const getUser = async ()=>{\r\n            try {\r\n                const res = await axios('users?userId='+sender)\r\n                setUser(res.data)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        \r\n        }\r\n        getUser();\r\n    },[sender])\r\n    return(\r\n        <div className={own ? \"message own\" : \"message\"}>\r\n            <div className=\"messageTop\">\r\n                <img className=\"messageImg\" src={user?.profilePicture? PF + user.profilePicture : PF+\"person/noAvatar.png\"} alt=\"\" />\r\n                <p className=\"messageText\">{message.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">{format(message.createdAt) }</div>\r\n        </div>\r\n    )\r\n}","import \"./topbar.css\";\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport dotenv from \"dotenv\";\n\ndotenv.config();\nexport default function Topbar() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <span className=\"logo\">Social App</span>\n        </Link>\n      </div>\n      <div className=\"topbarCenter\">\n        <div className=\"searchbar\">\n          <Search className=\"searchIcon\" />\n          <input\n            placeholder=\"Search for friend\"\n            className=\"searchInput\"\n          />\n        </div>\n      </div>\n      <div className=\"topbarRight\">\n        <div className=\"topbarLinks\">\n          <span className=\"topbarLink\">Homepage</span>\n          <span className=\"topbarLink\">Timeline</span>\n        </div>\n        <div className=\"topbarIcons\">\n          <div className=\"topbarIconItem\">\n            <Person />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n          <div className=\"topbarIconItem\">\n            <Chat />\n            <span className=\"topbarIconBadge\">2</span>\n          </div>\n          <div className=\"topbarIconItem\">\n            <Notifications />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n        </div>\n        <Link to={`/profile/${user.username}`}>\n          <img\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n            className=\"topbarImg\"\n          />\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useEffect, useRef, useState } from 'react';\r\nimport ChatOnline from '../../components/chatOnline/ChatOnline';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport Conversation from '../../components/conversations/Conversation';\r\nimport Message from '../../components/message/Message';\r\nimport Topbar from '../../components/topbar/Topbar';\r\nimport './messenger.css';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\n\r\nexport default function Messenger() {\r\n    const [conversations, setConversations] = useState([])\r\n    const [currentChat, setCurrentChat] = useState(null);\r\n    const [messages, setMessages] = useState([])\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [arrivalMessage, setArrivalMessage] = useState(null);\r\n    const [onlineUsers,setOnlineUsers] = useState([])\r\n    const socket = useRef();\r\n    const { user } = useContext(AuthContext)\r\n    const scrollRef = useRef();\r\n   \r\n    useEffect(() => {\r\n        socket.current = io(\"ws://socket-fiacre.herokuapp.com\");\r\n        console.log('now');\r\n    }, [])\r\n    useEffect(() => {\r\n        console.log('now again');\r\n        socket.current.on(\"getMessage\", (data) => {\r\n            console.log('there is data:',data)\r\n            setArrivalMessage({\r\n                _id: data._id,\r\n                sender: data.senderId,\r\n                text: data.text,\r\n                createdAt: Date.now(),\r\n            })\r\n        });\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        arrivalMessage && currentChat?.members.includes(arrivalMessage.sender) &&\r\n            setMessages((prev) => [...prev, arrivalMessage])\r\n\r\n    }, [arrivalMessage, currentChat])\r\n    useEffect(() => {\r\n        socket.current.emit(\"addUser\", user._id)\r\n        socket.current.on(\"getUsers\", users => {\r\n            const onUsers=users.users\r\n            const usrs=(user._id===process.env.REACT_APP_ADMIN_ID)?onUsers.filter(usr=>usr.userId!==user._id):\r\n            onUsers.filter(usr=>usr.userId===process.env.REACT_APP_ADMIN_ID)\r\n            console.log(usrs)\r\n            setOnlineUsers(usrs)\r\n        })\r\n    }, [user])\r\n    useEffect(() => {\r\n        const getConversations = async () => {\r\n            try {\r\n                const res = await axios.get(\"/conversations/\" + user._id);\r\n                console.log(res.data)\r\n                setConversations(res.data)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        getConversations()\r\n    }, [user._id])\r\n    useEffect(() => {\r\n        const getMessages = async () => {\r\n            try {\r\n                const res = await axios.get(\"/messages/\" + currentChat?._id)\r\n                setMessages(res.data)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n        }\r\n        getMessages();\r\n    }, [currentChat])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const message = {\r\n            sender: user._id,\r\n            text: newMessage,\r\n            conversationId: currentChat._id\r\n        }\r\n\r\n\r\n        try {\r\n            const res = await axios.post(\"/messages\", message);\r\n            setMessages([...messages, res.data])\r\n            const receiverId = currentChat.members.find(member => member !== user._id)\r\n            socket.current.emit(\"sendMessage\", {\r\n                _id: res.data._id,\r\n                senderId: user._id,\r\n                receiverId,\r\n                text: newMessage\r\n            });\r\n            setNewMessage('')\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n    }, [messages])\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className=\"messenger\">\r\n                <div className=\"chatMenu\">\r\n                    <div className=\"chatMenuWrapper\">\r\n                        <input placeholder='search for friends' className='chatMenuInput' />\r\n                        {conversations.map(c => (\r\n                            <div key={c._id} onClick={() => setCurrentChat(c)}>\r\n                                <Conversation conversation={c} currentUser={user} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatBox\">\r\n                    <div className=\"chatBoxWrapper\">\r\n                        {\r\n                            currentChat ?\r\n                                (<>\r\n                                    <div className=\"chatBoxTop\">\r\n                                        {messages.map(m => (\r\n                                            <div key={m._id} ref={scrollRef}>\r\n                                                <Message message={m} sender={m.sender} own={m.sender === user._id} />\r\n                                            </div>\r\n                                        ))}\r\n\r\n                                    </div>\r\n                                    <div className=\"chatBoxBottom\">\r\n                                        <textarea placeholder='Write something...'\r\n                                            className=\"chatMessageInput\"\r\n                                            onChange={(e) => setNewMessage(e.target.value)}\r\n                                            value={newMessage}></textarea>\r\n                                        <button className='chatSubmitButton' onClick={handleSubmit}>Send</button>\r\n                                    </div></>) : <span className='noConversationText'> Open Conversation to start chat.</span>}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatOnline\">\r\n                    <div className=\"chatOnlineWrapper\">\r\n                        {\r\n                        onlineUsers?onlineUsers.map(usr=>\r\n                            (<div key={usr.userId}>\r\n                                    <ChatOnline userId={usr.userId}/>\r\n                            </div>)\r\n                        ):(<h2>no online user yet</h2>)\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Dashboard() {\r\n\r\n    const [data, setData] = useState();\r\n\r\n    const getData = async () => {\r\n        try {\r\n            const response = await axios.get(\"/messages/\")\r\n            console.log(response.data)\r\n            setData(response.data)\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData();\r\n\r\n    },[])\r\n\r\n    const renderData = data ? data.map((item) => {\r\n        const { _id, createdAt,sender,text,conversationId} = item;\r\n        return (\r\n            <>\r\n                <tr key={_id} className=\"odd gradeX\">\r\n                    <td>{_id}</td>\r\n                    <td>{createdAt}</td>\r\n                    <td className=\"center\">{sender}</td>\r\n                    <td className=\"center\">{text}</td>\r\n                    <td className=\"center\">{conversationId}\r\n                    </td>\r\n                </tr>\r\n            </>\r\n        );\r\n    }) : () => <p>no message yet</p>\r\n\r\n    return (\r\n\r\n        <div className=\"row\" style={{ 'marginTop': '5rem' }}>\r\n            <div className=\"col-md-12\">\r\n                {/* <!-- Advanced Tables --> */}\r\n                <div className=\"panel panel-default\">\r\n                    <div className=\"panel-heading\" style={{ \"display\": \"flex\", \"flexDirection\": \"row\", \"marginBottom\": \"10px\" }}>\r\n                        <h4 style={{ \"textAlign\": \"center\", \"marginLeft\": \"40vw\" }}>Messages List</h4>\r\n                    </div>\r\n                    <div className=\"panel-body\">\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table table-striped table-bordered table-hover\" style={{ 'width': '80vw', 'marginRight': '10vw', 'marginLeft': '10vw' }} id=\"dataTables-example\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>id</th>\r\n                                        <th>created at</th>\r\n                                        <th>sender</th>\r\n                                        <th>text</th>\r\n                                        <th>conversation ID</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {renderData}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\nexport default Dashboard","import Login from \"./pages/login/Login\";\nimport Register from \"./pages/register/Register\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Messenger from \"./pages/messenger/Messenger\";\nimport Dashboard from \"./pages/dashboard/dashboard\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Messenger /> : <Login />}\n        </Route>\n        <Route path=\"/login\">{user ? <Redirect to=\"/\" /> : <Login />}</Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/messenger\">\n          {!user ? <Redirect to=\"/login\" /> : <Messenger />}\n        </Route>\n        <Route path=\"/dashboard\">\n          {!user?.isAdmin ? <Redirect to=\"/\" /> : <Dashboard />}\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}